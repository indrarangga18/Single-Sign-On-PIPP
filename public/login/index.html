<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login — SSO PIPP</title>
    <link rel="icon" href="/images/logo-KKP.png" />
    <style>
      :root {
        --primary: #04255c;
        --white: #ffffff;
        --text: #0f172a;
        --muted: #64748b;
        --border: #e2e8f0;
        --accent: #0ea5e9;
        --success: #10b981;
        --danger: #ef4444;
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--text);
        background: radial-gradient(1200px 600px at 15% 15%, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0) 60%),
                    linear-gradient(135deg, var(--primary) 0%, var(--white) 100%);
        display: grid;
        place-items: center;
      }

      .container { width: 100%; max-width: 460px; padding: 24px; }

      .card {
        position: relative;
        background: rgba(255,255,255,0.9);
        backdrop-filter: saturate(1.2) blur(10px);
        border-radius: 18px;
        border: 1px solid var(--border);
        box-shadow: 0 15px 35px rgba(4, 37, 92, 0.18);
        overflow: hidden;
        animation: floatIn .5s ease both;
      }
      @keyframes floatIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

      .card-header { padding: 28px 28px 8px; text-align: center; }
      .logo {
        width: 90px; height: 90px; border-radius: 50%; display: inline-grid; place-items: center;
        background: #f8fafc; box-shadow: inset 0 0 0 2px #eef2f7;
      }
      .logo img { width: 84px; height: 84px; object-fit: contain; }

      .title { margin: 16px 0 6px; font-weight: 800; font-size: 22px; color: var(--primary); letter-spacing: .2px; }
      .subtitle { margin: 0; font-size: 13px; color: var(--muted); }

      .card-body { padding: 22px 24px 24px; }

      .form-group { margin-bottom: 14px; }
      label { display: block; font-size: 12px; color: var(--muted); margin-bottom: 6px; }

      .input-wrap { position: relative; }
      .input-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; color: #94a3b8; }
      .input {
        width: 100%; height: 42px; border: 1px solid var(--border); border-radius: 12px;
        padding: 0 12px 0 36px; outline: none; transition: box-shadow .2s, border-color .2s, background-color .2s;
        background-color: #fff;
      }
      .input:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.22); }
      .toggle-pass { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); border: none; background: transparent; cursor: pointer; color: #475569; padding: 6px; border-radius: 8px; }
      .toggle-pass:hover { background: #f1f5f9; }

      .error { display:none; margin-top:6px; font-size:12px; color: var(--danger); }

      .actions { display: flex; align-items: center; justify-content: space-between; margin-top: 6px; }
      .link { font-size: 12px; color: var(--accent); text-decoration: none; }
      .link:hover { text-decoration: underline; }

      .btn {
        width: 100%; margin-top: 16px; height: 44px; border: none; border-radius: 12px;
        background: linear-gradient(90deg, var(--primary), #0b3b9b);
        color: #fff; font-weight: 700; letter-spacing: .2px; cursor: pointer;
        transition: transform .06s ease, box-shadow .2s ease, filter .18s;
        display: inline-grid; place-items: center; position: relative;
      }
      .btn:hover { box-shadow: 0 12px 22px rgba(4, 37, 92, 0.28); filter: brightness(1.03); }
      .btn:active { transform: translateY(1px); }
      .btn[disabled] { opacity: .7; cursor: not-allowed; }

      .spinner { display:none; width:18px; height:18px; border: 2px solid rgba(255,255,255,.5); border-top-color: #fff; border-radius: 50%; animation: spin .8s linear infinite; position:absolute; right: 14px; }
      @keyframes spin { to { transform: rotate(360deg); } }

      .footer { padding: 14px; text-align: center; font-size: 12px; color: var(--muted); }
    </style>
  </head>
  <body>
    <main class="container">
      <section class="card" role="region" aria-label="Form Login SSO PIPP">
        <div class="card-header">
          <span class="logo"><img src="/images/logo-KKP.png" alt="Logo KKP" /></span>
          <h1 class="title">Single Sign-On PIPP</h1>
          <p class="subtitle">Silakan masuk untuk melanjutkan akses Anda</p>
        </div>
        <div class="card-body">
          <form id="login-form" method="post" action="#" autocomplete="on" novalidate>
            <div class="form-group">
              <label for="username">Email atau Username</label>
              <div class="input-wrap">
                <svg class="input-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 12a5 5 0 1 0 0-10a5 5 0 0 0 0 10Zm-7 9a7 7 0 1 1 14 0v1H5v-1Z"/></svg>
                <input class="input" id="username" name="username" type="text" placeholder="nama@contoh.id" required />
              </div>
              <p class="error" id="err-username">Masukkan email/username yang valid.</p>
            </div>
            <div class="form-group">
              <label for="password">Kata Sandi</label>
              <div class="input-wrap">
                <svg class="input-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M17 8V7a5 5 0 0 0-10 0v1H5v12h14V8h-2Zm-8-1a3 3 0 0 1 6 0v1H9V7Zm10 3v8H5v-8h14Z"/></svg>
                <input class="input" id="password" name="password" type="password" placeholder="••••••••" minlength="6" required />
                <button type="button" class="toggle-pass" aria-label="Tampilkan kata sandi" id="toggle-pass">
                  <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M12 5c-7 0-10 7-10 7s3 7 10 7s10-7 10-7s-3-7-10-7Zm0 12a5 5 0 1 1 0-10a5 5 0 0 1 0 10Z"/></svg>
                </button>
              </div>
              <p class="error" id="err-password">Kata sandi minimal 6 karakter.</p>
            </div>
            <div class="actions">
              <label style="font-size:12px; color: var(--muted); display:flex; align-items:center; gap:8px;">
                <input type="checkbox" id="remember" name="remember" /> Ingat saya
              </label>
              <a class="link" href="#" onclick="alert('Hubungi admin untuk reset kata sandi.'); return false;">Lupa kata sandi?</a>
            </div>
            <button class="btn" id="login-btn" type="submit">
              Masuk
              <span class="spinner" id="spinner"></span>
            </button>
          </form>
        </div>
        <div class="footer">© 2025 KKP • SSO PIPP</div>
      </section>
    </main>

    <script>
      const form = document.getElementById('login-form');
      const username = document.getElementById('username');
      const password = document.getElementById('password');
      const errU = document.getElementById('err-username');
      const errP = document.getElementById('err-password');
      const btn = document.getElementById('login-btn');
      const spinner = document.getElementById('spinner');

      // Toggle visibilitas password
      document.getElementById('toggle-pass').addEventListener('click', function(){
        const isText = password.type === 'text';
        password.type = isText ? 'password' : 'text';
        this.setAttribute('aria-label', isText ? 'Tampilkan kata sandi' : 'Sembunyikan kata sandi');
      });

      function validate(){
        let ok = true;
        // Username/email minimal 3 karakter
        if (username.value.trim().length < 3){ errU.style.display = 'block'; ok = false; }
        else { errU.style.display = 'none'; }
        // Password minimal 6 karakter
        if (password.value.trim().length < 6){ errP.style.display = 'block'; ok = false; }
        else { errP.style.display = 'none'; }
        return ok;
      }

      username.addEventListener('input', validate);
      password.addEventListener('input', validate);

      form.addEventListener('submit', function(e){
        e.preventDefault();
        if(!validate()) { return; }

        // Simulasi proses login yang halus
        btn.setAttribute('disabled','disabled');
        spinner.style.display = 'inline-block';
        setTimeout(() => {
          // Redirect ke dashboard statis (ganti dengan endpoint nyata bila siap)
          window.location.href = '/dashboardsso';
        }, 900);
      });
    </script>
  </body>
  </html>